<html>
    <head>
        <title>Using map and filter to create dynamic table-rows</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    </head>
    <body>
        <h1>Using map and filter to create dynamic table-rows</h1> <br> <br>
        
        <table class="table">
  <thead>
    <tr>
      <th scope="col">id</th>
      <th scope="col">Year</th>
      <th scope="col">Make</th>
      <th scope="col">Model</th>
      <th scope="col">Price</th>
    </tr>
  </thead>
  <tbody id = "cars" >
   
  </tbody>
</table>
        
         <form>
            <label for="priceData">Price:</label><br>
            <input type="text" id="priceData" name="priceData" value=""><br>
             <button id ="button">Price less than</button><br><br>
            <input type="hidden" name="hidden" value="test">
        </form> 

        <script>
            var cars = [
                {id: 1, year: 1997, make: 'Ford', model: 'E350', price: 3000},
                {id: 2, year: 1999, make: 'Chevy', model: 'Venture', price: 4900},
                {id: 3, year: 2000, make: 'Chevy', model: 'Venture', price: 5000},
                {id: 4, year: 1996, make: 'Jeep', model: 'Grand Cherokee', price: 4799},
                {id: 5, year: 2005, make: 'Volvo', model: 'V70', price: 44799}
            ];
            
            readListe(cars);
            document.getElementById("button").addEventListener("click", filterPrice);

            function readListe(list) {
                let html = list.map(n => '<tr>' 
                        + "<td>" + n.id + "</td>" 
                        + "<td>" + n.year + "</td>"
                        + "<td>" + n.make + "</td>"
                        + "<td>" + n.model + "</td>"
                        + "<td>" + n.price + "</td>"
                        + '</tr>').join(" ");
                document.getElementById("cars").innerHTML = html;
            }
            
            function filterPrice(event) {
                event.preventDefault();
                var price = document.getElementById("priceData").value;
                var filledCars = cars.filter(n => n.price < parseInt(price));
                readListe(filledCars);
            }
            
            
        </script>
    </body>
</html>
